# BASIC-Interpreter-project
这是一个基于Qt的BASIC语言解释器，可以在输入框中进行基本的BASIC语句输入执行，也可以将外部的文本文件打开载入解释器进行修改执行。而且，解释器可以直观可视地展示语句的语法树和解析过程。同时，该解释器设计了Debug功能，可以进行断点调试和变量值的查看。

![image](https://github.com/user-attachments/assets/d6d9308a-cb76-4996-890c-50954e666ab6)

----
## 📘 BASIC 解释器主要指令

---

### 📑 表一：Minimal BASIC 支持的程序语句（需要写行号）

| 语句关键词 | 含义与功能 |
|------------|------------|
| `REM` | 注释语句。该语句后面的内容将被忽略，仅用于程序注释。 |
| `LET` | 赋值语句。格式为 `LET 变量 = 表达式`，将表达式的值赋给变量。不能嵌套使用。 |
| `PRINT` | 输出语句。格式为 `PRINT 表达式`，输出表达式的值并换行。 |
| `INPUT` | 输入语句。格式为 `INPUT 变量`，显示提示符 `?` 并读取用户输入的值赋给变量。 |
| `GOTO` | 跳转语句。格式为 `GOTO 行号`，程序将无条件跳转到指定行执行。若行号不存在应报错。 |
| `IF` | 条件跳转语句。格式为 `IF 表达式1 运算符 表达式2 THEN 行号`，若条件成立则跳转到指定行。支持运算符：`=`, `<`, `>`。 |
| `END` | 程序结束语句。执行到该语句时程序停止运行。可省略，若执行超出最后一行也会停止。 |

---

### 🛠️ 表二：解释器控制命令（不可写入程序，无行号）

| 命令 | 功能说明 |
|------|----------|
| `RUN` | 执行程序，从最小行号开始，按顺序执行，直到 `END` 或最后一行结束。 |
| `LOAD` | 从文件加载 BASIC 程序语句与命令，并作为用户输入执行。应弹出文件选择窗口。 |
| `CLEAR` | 清空当前程序内容，开始新的程序输入。 |
| `HELP` | 显示对 BASIC 解释器的简单帮助信息。 |
| `QUIT` | 退出 BASIC 解释器。 |
| `LIST` | **（已废弃）** 显示当前程序所有语句，因 GUI 实时显示已无需此命令。 |


语句的行号和语句之间保留空格，行号为小于1000000的非负整数，输入后自动排序。运算支持整型数（int32_t）的加、减、乘、整除、取余（MOD）、平方（**）运算。变量名命名规则类似于C/C++，不能使用保留的命令或者运算符，变量名第一位不能是数字，只能使用数字和字母作为变量名，区分大小写。
语句中的语法错误在输入时报出，如果执行中出现错误（例如某个数除以0，死循环等）则执行后报错。

## Debug模式

![image](https://github.com/user-attachments/assets/3f4494c0-2c27-49c8-b972-925a63cab23f)

### 1. 进入调试模式
* 点击 **DEBUG** 按钮进入调试模式，界面布局切换（如图所示）。
* **代码编辑功能将被禁用**。

### 2. 断点管理
* **添加断点**：
    * 使用命令 `ADD <行号>` (例如：`ADD 120`)。
    * 程序校验行号有效性：
        * 若行号无效，**提示用户**并忽略该输入。
        * 若行号有效，将其加入断点列表。
* **删除断点**：
    * 使用命令 `DELETE <行号>` (例如：`DELETE 110`)。
    * 程序校验行号有效性：
        * 若行号无效或不存在于列表，**提示用户**并忽略该输入。
        * 若行号有效且在列表中，将其移除。
* **断点列表维护**：
    * 程序**实时更新并维护**一个断点列表。
    * 列表格式示例：
        ```
        120
        130
        ```

### 3. 程序执行与控制
* **启动/继续执行**：
    * **RUN 按钮**：从头开始执行程序。
    * **RESUME 按钮**：从当前暂停处继续执行。
* **暂停条件**：
    * 程序执行到**断点列表中的任意行号**时自动暂停。
* **暂停时显示**：
    * 程序暂停后，**调试器窗口显示所有可用变量的当前值**。
    * 显示格式示例：
        ```
        Max = 10000
        n1 = 0
        ```
* **断点管理 (暂停时)**：
    * 程序暂停期间，用户**仍可**使用 `ADD` 和 `DELETE` 命令管理断点（列表实时更新）。
* **退出调试**：
    * **EXIT 按钮**：允许用户**随时**停止程序执行并完全退出调试模式。
